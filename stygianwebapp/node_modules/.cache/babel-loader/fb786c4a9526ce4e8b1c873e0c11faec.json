{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lydia\\\\OneDrive\\\\Documents\\\\UBC\\\\CPSC436I\\\\assignment_2\\\\src\\\\components\\\\MsgList.js\";\n//TODO EVERYTHING; template\nimport React, { Fragment } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport DetailView from \"./DetailView\";\nimport useModal from \"./useModal\";\nexport default function MsgList() {\n  //state: {\n  //     \n  //}\n  const dispatch = useDispatch();\n  /*\r\n  useState should be used only inside functional components. useState is the way if we need an internal state and don't need to implement more complex logic such as lifecycle methods.\r\n    const [state, setState] = useState(initialState);\r\n  Returns a stateful value, and a function to update it.\r\n    During the initial render, the returned state (state) is the same as the value passed as the first argument (initialState).\r\n    The setState function is used to update the state. It accepts a new state value and enqueues a re-render of the component.\r\n   */\n\n  const listItems = useSelector(state => state.messages.messages); //first messages is im in messageReducer; .messages gives the array part of messages\n  //TODO: DELETE THE NEXT LINE AFTER SWITCHING TO ACTION \n  //OR GET ONE CONST PER EACH LIST ITEM (per message!)\n\n  const allToggles = [];\n  const [isShowing, toggle] = useModal();\n\n  for (let i = 0; i < listItems.length; i++) {\n    allToggles[i].push([isShowing, toggle]);\n  }\n  /*cite: https://www.debuggr.io/react-map-of-undefined/ \r\n  undefined or null values are ignored inside JSX so it's safe to pass it on for first render\r\n  */\n  //TODO: somehow load data into ims so the mapping starts\n\n\n  let msgsToRender;\n\n  if (listItems) {\n    msgsToRender = listItems.map((msg, i) => {\n      //iterate  and get the hook's default isShowing and toggle for each message\n      return /*#__PURE__*/React.createElement(Fragment, {\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        className: \"msg_send\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"msg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"msg_content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"msg_username\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }\n      }, msg.name), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"msg_message\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }\n      }, msg.content), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"detail_button\",\n        onClick: allToggles[i].toggle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }\n      }, \"Details\"), /*#__PURE__*/React.createElement(DetailView, {\n        isShowing: allToggles[i].isShowing,\n        hide: allToggles[i].toggle,\n        index: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 29\n        }\n      })))));\n    });\n  } else {\n    msgsToRender = \"Loading...\"; //TODO: FIX CURRENTLY ALWAYS UNDEFINED\n  } //TODO: get action to populate ul with lis\n\n\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"msg_list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, msgsToRender);\n}","map":{"version":3,"sources":["C:/Users/lydia/OneDrive/Documents/UBC/CPSC436I/assignment_2/src/components/MsgList.js"],"names":["React","Fragment","useSelector","useDispatch","DetailView","useModal","MsgList","dispatch","listItems","state","messages","allToggles","isShowing","toggle","i","length","push","msgsToRender","map","msg","name","content"],"mappings":";AAAA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAwC,aAAxC;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,QAAP,MAAqB,YAArB;AAEA,eAAe,SAASC,OAAT,GAAmB;AAC9B;AACA;AACA;AAGA,QAAMC,QAAQ,GAAGJ,WAAW,EAA5B;AAEA;;;;;;;;AAWA,QAAMK,SAAS,GAAGN,WAAW,CAACO,KAAK,IAAIA,KAAK,CAACC,QAAN,CAAeA,QAAzB,CAA7B,CAnB8B,CAmBmC;AAEjE;AACA;;AACA,QAAMC,UAAU,GAAG,EAAnB;AACA,QAAM,CAACC,SAAD,EAAYC,MAAZ,IAAsBR,QAAQ,EAApC;;AACA,OAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAEN,SAAS,CAACO,MAA7B,EAAqCD,CAAC,EAAtC,EAAyC;AAErCH,IAAAA,UAAU,CAACG,CAAD,CAAV,CAAcE,IAAd,CAAmB,CAACJ,SAAD,EAAYC,MAAZ,CAAnB;AACH;AAIA;;;AAKA;;;AACD,MAAII,YAAJ;;AACA,MAAIT,SAAJ,EAAe;AACXS,IAAAA,YAAY,GAEXT,SAAS,CAACU,GAAV,CAAc,CAACC,GAAD,EAAML,CAAN,KAAY;AAC1B;AAEG,0BACI,oBAAC,QAAD;AAAU,QAAA,GAAG,EAAGA,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEY;AAAI,QAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAK,QAAA,SAAS,EAAE,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACR;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+BK,GAAG,CAACC,IAAnC,CADQ,eAER;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA8BD,GAAG,CAACE,OAAlC,CAFQ,eAGJ;AAAQ,QAAA,SAAS,EAAC,eAAlB;AAAkC,QAAA,OAAO,EAAEV,UAAU,CAACG,CAAD,CAAV,CAAcD,MAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAHI,eAIA,oBAAC,UAAD;AACI,QAAA,SAAS,EAAEF,UAAU,CAACG,CAAD,CAAV,CAAcF,SAD7B;AAEI,QAAA,IAAI,EAAED,UAAU,CAACG,CAAD,CAAV,CAAcD,MAFxB;AAGI,QAAA,KAAK,EAAIC,CAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJA,CADA,CADA,CAFZ,CADJ;AAqBH,KAxBA,CAFD;AA2BH,GA5BD,MA4BM;AACFG,IAAAA,YAAY,GAAG,YAAf,CADE,CAC2B;AAChC,GArE6B,CAwE7B;;;AAED,sBAEA;AAAI,IAAA,SAAS,EAAE,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACSA,YADT,CAFA;AAOH","sourcesContent":["//TODO EVERYTHING; template\r\nimport React, { Fragment } from 'react';\r\nimport {useSelector, useDispatch } from 'react-redux';\r\nimport DetailView from \"./DetailView\";\r\nimport useModal from \"./useModal\";\r\n\r\nexport default function MsgList (){\r\n    //state: {\r\n    //     \r\n    //}\r\n\r\n\r\n    const dispatch = useDispatch();\r\n   \r\n    /*\r\n    useState should be used only inside functional components. useState is the way if we need an internal state and don't need to implement more complex logic such as lifecycle methods.\r\n\r\n    const [state, setState] = useState(initialState);\r\n    Returns a stateful value, and a function to update it.\r\n\r\n    During the initial render, the returned state (state) is the same as the value passed as the first argument (initialState).\r\n\r\n    The setState function is used to update the state. It accepts a new state value and enqueues a re-render of the component.\r\n     */\r\n    \r\n    const listItems = useSelector(state => state.messages.messages); //first messages is im in messageReducer; .messages gives the array part of messages\r\n    \r\n    //TODO: DELETE THE NEXT LINE AFTER SWITCHING TO ACTION \r\n    //OR GET ONE CONST PER EACH LIST ITEM (per message!)\r\n    const allToggles = [];\r\n    const [isShowing, toggle] = useModal();\r\n    for (let i = 0; i <listItems.length; i++){\r\n        \r\n        allToggles[i].push([isShowing, toggle]);\r\n    }\r\n    \r\n    \r\n\r\n     /*cite: https://www.debuggr.io/react-map-of-undefined/ \r\n     undefined or null values are ignored inside JSX so it's safe to pass it on for first render\r\n     */\r\n    \r\n\r\n     //TODO: somehow load data into ims so the mapping starts\r\n    let msgsToRender;\r\n    if (listItems) {\r\n        msgsToRender =\r\n        \r\n         listItems.map((msg, i) => {\r\n         //iterate  and get the hook's default isShowing and toggle for each message\r\n            \r\n            return (\r\n                <Fragment key= {i}>\r\n                    {\r\n                            <li className=\"msg_send\">\r\n                            <div className=\"msg\">\r\n                            <div className =\"msg_content\">\r\n                    <div className=\"msg_username\">{msg.name}</div>\r\n                    <div className=\"msg_message\">{msg.content}</div>\r\n                        <button className=\"detail_button\" onClick={allToggles[i].toggle}>Details</button>\r\n                            <DetailView \r\n                                isShowing={allToggles[i].isShowing}\r\n                                hide={allToggles[i].toggle}\r\n                                index = {i}\r\n                                >\r\n                            </DetailView>\r\n                            </div>\r\n                            </div>\r\n                        </li>   \r\n                    }\r\n                </Fragment>\r\n            )\r\n        })\r\n    }else {\r\n        msgsToRender = \"Loading...\"; //TODO: FIX CURRENTLY ALWAYS UNDEFINED\r\n    } \r\n\r\n\r\n     //TODO: get action to populate ul with lis\r\n     \r\n    return( \r\n    \r\n    <ul className= \"msg_list\"> \r\n            {msgsToRender}\r\n    </ul> \r\n    );\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}